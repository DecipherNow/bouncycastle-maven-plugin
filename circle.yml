machine:
    java:
        version: oraclejdk8

dependencies:
    pre:
        - mvn dependency:go-offline

test:
    override:
        - mvn verify

deployment:
    override:
        - if [ -z "${CI_PULL_REQUEST}" ]; then PGP_RINGS="$(echo ${PGP_RINGS_ENCODED} | base64 --decode)" mvn deploy -P deploy -s settings.xml; fi
